<main class="ms-welcome__main">
  <div class="ui fluid center aligned container">
    <div class="ui fluid" style="border-bottom: 1px solid #F5F5F5; background: #03A9F4;">
      <img
        src="../../../assets/logo.png"
        class="ui fluid centered image"
        style="max-width: 300px;"
      />
    </div>
    <div class="ui segment grid mt-0 mb-0" style="border: 0px; min-height: 261px;">
      <div class="sixteen wide column pb-0">
        <div class="ui fluid input container" style="margin: 0px 0px 0px 0px !important;">
          <input
            placeholder="Enter Name"
            type="text"
            style="border-width: 0px 0px 1px 0px;"
            [(ngModel)]="searchText"
          />
        </div>
      </div>
      <div class="sixteen wide column pb-0" style="min-height: 60px;">
        <div class="ui fluid left aligned slider">
          <div>
            <div style="float:left;"><span>Capacity:</span></div>
            <div class="ui input" style="float:right;">
                <span>{{selectedCapacity}}</span>
            </div>
          </div>
          <div class="ui blue range pb-0" id="range-3"></div>
        </div>
      </div>
      <div class="sixteen wide column pb-0">
        <select
          class="ui fluid search dropdown"
          [(ngModel)]="selectedResourceProfile"
        >
          <option value="" selected>Select Resource Profile</option>
          <option
            [ngValue]="RP"
            *ngFor="let RP of resourceProfiles"
            >{{ RP.name }}</option
          >
        </select>
      </div>
      <div
        class="eight wide column pb-0 locations"
        *ngFor="let level of Arr(locationLevels).fill(1); let i = index"
      >
        <select
          class="ui fluid search dropdown"
          [(ngModel)]="selectedLocation[i]"
        >
          <option value="" selected>Select Level {{ i }}</option>
          <option
            [ngValue]="location"
            *ngFor="let location of getLocationLevel(i)"
            >{{ location.name }}</option
          >
        </select>
      </div>
      <div class="sixteen wide column left aligned">
        <span id="morefiltersToggle">
          <a (click)="resetFilters()">
            More Filters 
            <i [ngClass]= "showMoreFilters ? 'chevron icon down' : 'chevron icon right'"></i>
          </a>
        </span>
      </div>
    </div>
    <div class="ui segment grid mt-0 mb-0" style="border: 0px; min-height: 50px;" id="morefilters" *ngIf="showMoreFilters">
      <div class="eight wide column pt-0">
        <ng-multiselect-dropdown
          [placeholder]="'Equipments'"
          [data]="dropdownList_equipments"
          [(ngModel)]="selectedItems_equipments"
          [settings]="dropdownSettings_equipments"
        >
        </ng-multiselect-dropdown>
      </div>
      <div class="eight wide column pt-0">
        <ng-multiselect-dropdown
          [placeholder]="'Services'"
          [data]="dropdownList_services"
          [(ngModel)]="selectedItems_services"
          [settings]="dropdownSettings_services"
        >
        </ng-multiselect-dropdown>
      </div>
    </div>
    <div class="ui segment" [ngClass]="showMoreFilters ? 'roomsPane-sm' : 'roomsPane-lg'">
      <div class="ui fluid" style="margin-top:1%;">
        <div
          *ngFor="
            let room of rooms
              | filter: { 
                  searchValue: searchText, 
                  resourceProfiles: selectedResourceProfile,
                  capacity: selectedCapacity,
                  equipments: selectedItems_equipments,
                  services: selectedItems_services
                 }
          "
          class="ui placeholder segment segment-grey left aligned"
          id="{{ room.id }}"
          style="max-height: 120px; min-height: 120px; margin-top: 2px; margin-bottom: 5px;"
        >
        <a [routerLink] = "['/room', room.id]" [state]="room">
          <div class="ui grid" style="max-height: 120px; min-height: 120px;">
            <div class="six wide column middle aligned">
              <img src="../../../assets/conf.jpg" class="ui image" style="max-height: 95px;"/>
            </div>
            <div class="eight wide column middle aligned">
              <h3 class="ui header aligned left">{{ room.name }}</h3>
              <div class="aligned left">
                <i class="circle icon available"></i>
                <span class="availability">
                  {{room.isAvailable ? "Available" : "Not Available"}}
                </span>
              </div>
              <p class="aligned left">{{ locationPaths[room.id] }}</p>
            </div>
            <div class="two wide column right aligned availableCount" style="padding: 0 0 0;">
              {{ room.capacity }}<i class="user icon"></i>
            </div>
          </div>
        </a>
        </div>
      </div>
    </div>
    <footer>
      <div class="ui grid">
        <div class="two wide column">
          <i class="left chevron icon"></i>
        </div>
        <div class="twelve wide column">
          <p id="page">1/1</p>
        </div>
        <div class="two wide column">
          <i class="right chevron icon"></i>
        </div>
      </div>
    </footer>
  </div>
</main>

